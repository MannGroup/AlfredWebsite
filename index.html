<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alfred SMS Butler Services</title>
  <meta name="description" content="Alfred SMS Butler Services provides SMS appointment reminders and interactive messaging services to users who voluntarily opt in through this website." />

  <style>
    body { 
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; 
      margin: 0; 
      padding: 0; 
      line-height: 1.5; 
      color: #111; 
      background: #f9fafb; 
    }
    header, main, footer { 
      max-width: 860px; 
      margin: 0 auto; 
      padding: 24px; 
    }
    header { 
      padding-top: 40px; 
    }
    .card { 
      border: 1px solid #e5e7eb; 
      border-radius: 12px; 
      padding: 32px; 
      background: #fff; 
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); 
    }
    .card h2 { 
      margin-top: 0; 
    }
    a { 
      color: #0b57d0; 
      text-decoration: none; 
    }
    a:hover { 
      text-decoration: underline; 
    }
    .links a { 
      margin-right: 16px; 
    }
    .muted { 
      color: #555; 
    }
    
    /* Form styles */
    form { 
      margin-top: 24px; 
    }
    label { 
      display: block; 
      margin-bottom: 8px; 
      font-weight: 500; 
    }
    input[type="tel"] { 
      width: 100%; 
      max-width: 400px; 
      padding: 12px; 
      border: 1px solid #d1d5db; 
      border-radius: 8px; 
      font-size: 16px; 
      box-sizing: border-box; 
    }
    input[type="tel"]:focus { 
      outline: none; 
      border-color: #0b57d0; 
      box-shadow: 0 0 0 3px rgba(11, 87, 208, 0.1); 
    }
    .phone-hint { 
      font-size: 14px; 
      color: #666; 
      margin-top: 4px; 
      margin-bottom: 16px; 
    }
    
    input[type="checkbox"] { 
      margin-right: 8px; 
      margin-top: 4px; 
      float: left; 
      width: 20px; 
      height: 20px; 
      cursor: pointer; 
      flex-shrink: 0;
    }
    .consent-wrapper {
      display: flex;
      align-items: flex-start;
      margin-bottom: 16px;
    }
    .consent-label { 
      display: block; 
      line-height: 1.6; 
      flex: 1;
    }
    .consent-label a { 
      color: #0b57d0; 
      text-decoration: underline; 
    }
    
    button[type="submit"] { 
      background: #0b57d0; 
      color: white; 
      border: none; 
      padding: 12px 24px; 
      border-radius: 8px; 
      font-size: 16px; 
      font-weight: 500; 
      cursor: pointer; 
      margin-top: 8px;
    }
    button[type="submit"]:hover { 
      background: #084298; 
    }
    button[type="submit"]:disabled { 
      background: #9ca3af; 
      cursor: not-allowed; 
    }
    
    .error { 
      color: #dc2626; 
      font-size: 14px; 
      margin-top: 8px; 
      display: none; 
    }
    .error.show { 
      display: block; 
    }
    
    /* Success message */
    .success-card { 
      display: none; 
    }
    .success-card.show { 
      display: block; 
    }
    .success-icon { 
      font-size: 48px; 
      color: #10b981; 
      margin-bottom: 16px; 
    }
    
    .hidden { 
      display: none; 
    }

    .required { color: #dc2626; }
  </style>
</head>
<body>
  <header>
    <h1>Alfred SMS Butler Services</h1>
    <p class="muted">SMS appointment and reminder notification service.</p>
    <p class="links">
      <a href="./privacy.html">Privacy Policy</a>
      <a href="./terms.html">Terms of Service</a>
    </p>
  </header>

  <main>
    <!-- Opt-in Form Card -->
    <div class="card" id="signupCard">
      <h2>Sign Up for SMS Reminders</h2>

      <p>
        Alfred SMS Butler Services sends appointment and reminder notifications via SMS to users who voluntarily opt in through this website. Message frequency varies and depends on your interactions with the service.
      </p>

      <form id="signupForm" onsubmit="handleSubmit(event)">
        <label for="phoneNumber">
          Phone Number: <span class="required">*</span>
        </label>
        <input 
          type="tel" 
          id="phoneNumber" 
          name="phoneNumber" 
          placeholder="+1234567890" 
          pattern="^\+[1-9]\d{1,14}$"
          required
          autocomplete="tel">
        <div class="phone-hint">
          Format: +1234567890 (include country code, e.g., +1 for US)
        </div>
        <div class="error" id="phoneError">
          Please enter a valid phone number in E.164 format (e.g., +1234567890)
        </div>

        <div class="consent-wrapper">
          <input 
            type="checkbox" 
            id="consent" 
            name="consent" 
            required>
          <label for="consent" class="consent-label">
            By checking this box, I <strong>expressly consent</strong> to receive recurring automated text messages (SMS and MMS) from Alfred SMS Butler Services at the phone number I provided above. I understand that message frequency varies based on my interactions, message and data rates may apply, and I can reply <strong>STOP</strong> to unsubscribe or <strong>HELP</strong> for assistance at any time. I have read and agree to the <a href="./terms.html" target="_blank" rel="noopener noreferrer">Terms of Service</a> and <a href="./privacy.html" target="_blank" rel="noopener noreferrer">Privacy Policy</a>.
          </label>
        </div>

        <button type="submit" id="submitBtn">Subscribe</button>
      </form>

      <h3 style="margin-top: 32px;">Contact</h3>
      <p>
        Email: <a href="mailto:calvin@manngrp.com">calvin@manngrp.com</a>
      </p>
    </div>

    <!-- Success Confirmation Card -->
    <div class="card success-card" id="successCard">
      <div style="text-align: center;">
        <div class="success-icon">✓</div>
        <h2>Thank You!</h2>
        <p><strong>You have successfully subscribed to Alfred SMS Butler Services.</strong></p>
        <p><strong>Phone Number:</strong> <span id="confirmedPhone"></span></p>
        <p class="muted" style="margin-top: 24px;">
          You will receive a confirmation SMS message shortly. If you don't receive it within a few minutes, please check your phone number and try again.
        </p>
        <p class="muted">
          <strong>Important:</strong> You can opt out at any time by replying <strong>STOP</strong> to any message. For help, reply <strong>HELP</strong>.
        </p>
        <p style="margin-top: 24px;">
          <a href="./index.html">← Back to Home</a>
        </p>
      </div>
    </div>
  </main>

  <footer class="muted">
    <p>
      © <span id="y"></span> Alfred SMS Butler Services ·
      <a href="./privacy.html">Privacy</a> · 
      <a href="./terms.html">Terms</a>
    </p>
  </footer>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    // Phone number validation
    const phoneInput = document.getElementById("phoneNumber");
    const phoneError = document.getElementById("phoneError");
    const form = document.getElementById("signupForm");
    const submitBtn = document.getElementById("submitBtn");
    const consentCheckbox = document.getElementById("consent");

    // Ensure checkbox starts unchecked (critical for Twilio compliance)
    window.addEventListener("load", function() {
      consentCheckbox.checked = false;
    });

    phoneInput.addEventListener("input", function() {
      const phone = this.value.trim();
      const phonePattern = /^\+[1-9]\d{1,14}$/;
      
      if (phone && !phonePattern.test(phone)) {
        phoneError.classList.add("show");
        this.setCustomValidity("Please enter a valid phone number in E.164 format (e.g., +1234567890)");
      } else {
        phoneError.classList.remove("show");
        this.setCustomValidity("");
      }
    });

    // Form submission handler - No backend required, just demonstrates the opt-in process
    function handleSubmit(event) {
      event.preventDefault();
      
      const phoneNumber = phoneInput.value.trim();
      const consentChecked = consentCheckbox.checked;
      
      // Validate phone number format
      const phonePattern = /^\+[1-9]\d{1,14}$/;
      if (!phonePattern.test(phoneNumber)) {
        phoneError.classList.add("show");
        phoneInput.focus();
        return false;
      }

      if (!consentChecked) {
        alert("Please check the consent checkbox to continue.");
        consentCheckbox.focus();
        return false;
      }

      // Disable submit button
      submitBtn.disabled = true;
      submitBtn.textContent = "Subscribing...";

      // Simulate processing (for demonstration purposes)
      // In your actual workflow, you would manually process opt-ins
      // or use your existing SMS system to send confirmations
      setTimeout(() => {
        // Show success message
        document.getElementById("signupCard").classList.add("hidden");
        document.getElementById("confirmedPhone").textContent = phoneNumber;
        document.getElementById("successCard").classList.add("show");
        
        // Scroll to success message
        document.getElementById("successCard").scrollIntoView({ 
          behavior: 'smooth', 
          block: 'start' 
        });
      }, 500);
      
      return false;
    }

    // Prevent form submission if checkbox is unchecked
    form.addEventListener("submit", function(e) {
      if (!consentCheckbox.checked) {
        e.preventDefault();
        alert("You must check the consent checkbox to subscribe.");
        consentCheckbox.focus();
        return false;
      }
    });
  </script>
</body>
</html>